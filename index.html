<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slideshow</title>
    <style>
        .image_slideshow{
            background-color: slategrey;
        }
        
    </style>
    <script>
        var checkDimIntv;
        var slideWidth;
        var imageSlideshow;
        var slidesContainer;
        var numberOfSlides;
        var slideControls;
        var slideshowTimer;
        var slideNumber = 1;
        var slidePointers = [];
        function checkDimensionChange(){
            if(slideWidth != document.getElementsByClassName("image_slideshow")[0].clientWidth){
                slideWidth = document.getElementsByClassName("image_slideshow")[0].clientWidth;
                console.log("dimensions changed" + slideWidth);
                //slideshowInitialise();
            }
        }
        function slideshowInitialise(){
            imageSlideshow = document.getElementsByClassName("image_slideshow")[0];
            imageSlideshow.style.width=parseInt(imageSlideshow.parentElement.clientWidth)+"px";
            imageSlideshow.style.padding="0px";
            slideWidth = imageSlideshow.clientWidth;
            checkDimIntv = setInterval(() => {
                checkDimensionChange();
            }, 200);
            imageSlideshow.style.height = slideWidth*7/10 + "px";
            imageSlideshow.style.overflow="hidden";
            slidesContainer = document.getElementsByClassName("slide_container")[0];
            slidesContainer.style.height=slideWidth*6/10+"px";
            numberOfSlides= document.getElementsByClassName("slides").length;
            slidesContainer.style.width=(numberOfSlides*slideWidth+1)+"px";
            for(i=0;i<numberOfSlides;i++){
                document.getElementsByClassName("slides")[i].style.width=slideWidth+"px";
                document.getElementsByClassName("slides")[i].style.height=slideWidth*6/10+"px";
                document.getElementsByClassName("slides")[i].style.margin="0px";
                document.getElementsByClassName("slides")[i].style.float="left";
            }
            slideControls = document.getElementsByClassName("slide_controls")[0];
            slideControls.style.height=slideWidth/10+"px";
            slideControls.style.width=slideWidth+"px";
            slideControls.style.padding="0px";
            slideControls.style.backgroundColor="white";
            slidesContainer.style.transition = "700ms";
            document.getElementsByClassName("slide_control_icon")[0].style.width = slideWidth/10+"px";
            document.getElementsByClassName("slide_control_icon")[0].style.height = slideWidth/10+"px";
            document.getElementsByClassName("slide_control_icon")[0].style.float = "left";

            document.getElementsByClassName("slide_control_icon")[1].style.width = slideWidth/10+"px";
            document.getElementsByClassName("slide_control_icon")[1].style.height = slideWidth/10+"px";
            document.getElementsByClassName("slide_control_icon")[1].style.float = "left";

            document.getElementsByClassName("slide_control_pointer_bar")[0].style.width = (slideWidth - slideWidth/5)+"px";
            document.getElementsByClassName("slide_control_pointer_bar")[0].style.height = slideWidth/10+"px";
            document.getElementsByClassName("slide_control_pointer_bar")[0].style.float = "left";
            
            document.getElementsByClassName("slide_control_icon_img")[0].style.width = slideWidth/20+"px";
            document.getElementsByClassName("slide_control_icon_img")[0].style.height = slideWidth/20+"px";
            document.getElementsByClassName("slide_control_icon_img")[0].style.margin = slideWidth/40+"px";
            document.getElementsByClassName("slide_control_icon_img")[1].style.width = slideWidth/20+"px";
            document.getElementsByClassName("slide_control_icon_img")[1].style.height = slideWidth/20+"px";
            document.getElementsByClassName("slide_control_icon_img")[1].style.margin = slideWidth/40+"px";

            for(i=0;i<numberOfSlides;i++){
                slidePointers[i] = document.createElement("div");
                slidePointers[i].className = "slide_pointers";
                document.getElementsByClassName("slide_control_pointer_container")[0].appendChild(slidePointers[i]); 
            }

            for(i=0;i<numberOfSlides;i++){
                document.getElementsByClassName("slide_pointers")[i].style.border = "1px solid gainsboro";
                document.getElementsByClassName("slide_pointers")[i].style.width = slideWidth/25+"px";
                document.getElementsByClassName("slide_pointers")[i].style.height = slideWidth/25+"px";
                document.getElementsByClassName("slide_pointers")[i].style.marginLeft = slideWidth/50+"px";
                document.getElementsByClassName("slide_pointers")[i].style.borderRadius = "50%";
                document.getElementsByClassName("slide_pointers")[i].style.float = "left";
                document.getElementsByClassName("slide_pointers")[i].id="slide_pointer_"+i;
                document.getElementsByClassName("slide_pointers")[i].setAttribute("onclick","gotoSlide(this);");
            }
            
            document.getElementsByClassName("slide_control_pointer_container")[0].style.width = (slideWidth/16 + slideWidth/50)*numberOfSlides+"px";
            document.getElementsByClassName("slide_control_pointer_container")[0].style.height = slideWidth/10+"px";            
            document.getElementsByClassName("slide_control_pointer_container")[0].style.margin = "auto";
            document.getElementsByClassName("slide_control_pointer_container")[0].style.padding = slideWidth/50+"px";
            document.getElementsByClassName("slide_control_pointer_container")[0].style.boxSizing = "border-box";

            for(i=0;i<numberOfSlides;i++){
                document.getElementsByClassName("slide_pointers")[i].style.backgroundColor = "white";
            }
            document.getElementsByClassName("slide_pointers")[0].style.backgroundColor = "gainsboro";

            startsTheInterval();
            imageSlideshow.addEventListener("mouseover",clearsTheInterval,false);
            imageSlideshow.addEventListener("touchstart",clearsTheInterval,false);
            imageSlideshow.addEventListener("mouseout",startsTheInterval,false);
            document.getElementsByClassName("slide_control_icon")[0].addEventListener("click",prevSlide,false);
            document.getElementsByClassName("slide_control_icon")[1].addEventListener("click",nextSlide,false);
        }
        function clearsTheInterval(){
            clearInterval(slideshowTimer);
        }
        function startsTheInterval(){
            slideshowTimer = setInterval(() => {
                slidesContainer.style.transform="translateX(-"+slideWidth*slideNumber+"px)";
                for(i=0;i<numberOfSlides;i++){
                    document.getElementsByClassName("slide_pointers")[i].style.backgroundColor = "white";
                }
                document.getElementsByClassName("slide_pointers")[slideNumber].style.backgroundColor = "gainsboro";
                slideNumber++;
                if(slideNumber>numberOfSlides-1){
                    slideNumber=0;
                }
            }, 2000);
        }
        function nextSlide(){
            slidesContainer.style.transform="translateX(-"+slideWidth*slideNumber+"px)";
                for(i=0;i<numberOfSlides;i++){
                    document.getElementsByClassName("slide_pointers")[i].style.backgroundColor = "white";
                }
                document.getElementsByClassName("slide_pointers")[slideNumber].style.backgroundColor = "gainsboro";
                slideNumber++;
                if(slideNumber>numberOfSlides-1){
                    slideNumber=0;
                }
        }
        function prevSlide(){
            slideNumber=slideNumber-1;
                if(slideNumber<0){
                    slideNumber=numberOfSlides-1;
                }
            slidesContainer.style.transform="translateX(-"+slideWidth*slideNumber+"px)";
                for(i=0;i<numberOfSlides;i++){
                    document.getElementsByClassName("slide_pointers")[i].style.backgroundColor = "white";
                }
                document.getElementsByClassName("slide_pointers")[slideNumber].style.backgroundColor = "gainsboro";
        }
        function gotoSlide(x){
            var str = x.id;
            str = str.slice(14,str.length);
            slideNumber=parseInt(str);
            slidesContainer.style.transform="translateX(-"+slideWidth*slideNumber+"px)";
                for(i=0;i<numberOfSlides;i++){
                    document.getElementsByClassName("slide_pointers")[i].style.backgroundColor = "white";
                }
                document.getElementsByClassName("slide_pointers")[slideNumber].style.backgroundColor = "gainsboro";
            console.log(str);
        }
    </script>
</head>
<body onload="slideshowInitialise();">
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <div style="position: static; width: 48vw; height: 48vw; padding: 0px; background-color: gainsboro; left: 1vw; top: 1vw; margin-left: 10vw;">
        <div class="image_slideshow">
            <div class="slide_container">
                <img class="slides" src="images/slide(1).jpg" alt="">
                <img class="slides" src="images/slide(2).jpg" alt="">
                <img class="slides" src="images/slide(3).jpg" alt="">
                <img class="slides" src="images/slide(4).jpg" alt="">
                <img class="slides" src="images/slide(5).jpg" alt="">
            </div>
            <div class="slide_controls">
                <div class="slide_control_icon"><img class="slide_control_icon_img" src="images/slide_left_img.svg" alt=""></div>
                <div class="slide_control_pointer_bar">
                    <div class="slide_control_pointer_container">
                    </div>
                </div>
                <div class="slide_control_icon"><img class="slide_control_icon_img" src="images/slide_right_img.svg" alt=""></div>
            </div>
        </div>
    </div>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>